// This is your Prisma schema file,

// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?

// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client"
  output = "../src/generated/prisma/client"
}




datasource db {
  provider = "postgresql"
}



model User {
  id Int @id @default(autoincrement())

  fullName String
  userName String @unique

  email String? @unique
  password String

  isPublic Boolean @default(false)

  chats Chat[] @relation("ChatList")

  avatar String? 
}

model Chat {
  id Int @id @default(autoincrement())
  publicId String @unique

  name String

  members User[] @relation("ChatList")

  messageList Message[]
}








model Message {
  id Int @id @default(autoincrement())
  
  sender String
  
  data String

  chatPublicId String 
  chat Chat @relation(fields: [chatPublicId], references: [publicId])

  createdAt BigInt
}